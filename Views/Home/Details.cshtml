@model ETickets.Models.Movie

@{
    ViewData["Title"] = "Details";
}

<h1>Details</h1>
<div class="container mt-5">
    <div class="row">
        <!-- Movie Poster -->
        <div class="card h-100">
            <span class="badge bg-primary mb-3" style="width:20%">@((MovieStatus)Model.MovieStatus)</span>
        </div>
        <div class="col-md-6">
            <img src="~/Images/movies/@Model.Image" alt="@Model.Name" class="img-fluid">
        </div>

        <!-- Movie Details -->
        <div class="col-md-6">
            <h2>@Model.Name</h2>
            <p class="mt-3">
                @Model.Description
            </p>

            <p><strong>Price:</strong> @Model.Price.ToString("F2")</p>
            <p><strong>Cinema:</strong> @Model.cinema?.Name</p>
            <p><strong>Start Date:</strong> @Model.StartDate.ToString("M/d/yyyy h:mm tt")</p>
            <p><strong>End Date:</strong> @Model.EndDate.ToString("M/d/yyyy h:mm tt")</p>
            <p><strong>Category:</strong> @Model.category?.Name</p>
            <p><strong>NO Of Views:</strong> @Model.NoOfViews</p>

            <!-- Actors -->
            <p><strong>Actors:</strong></p>
            <div class="d-flex">
                @foreach (var item in Model.ActorMovies)
                {
                    <a href="/Actor/Index/@item.Actor.Id"><img src="~/Images/cast/@item.Actor.profilePicture" alt="" class="rounded-circle me-2" width="50" height="50"></a> 
                }
            </div>

            <!-- Trailer -->
            <p class="mt-3"><strong>Trailer:</strong></p>
            <video class="w-100" controls>
                <source src="@Model.TrailerURl" type="video/mp4">
            </video>

            <!-- Book Ticket Button -->
            <div class="mt-4">
                <button class="btn btn-success btn-lg">Book Ticket</button>
            </div>
        </div>
    </div>
</div>

<div>
    <a asp-action="Edit" asp-route-id="@Model?.Id">Edit</a> |
    <a asp-action="Index">Back to List</a>
</div>
